(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{141:function(e,t,a){"use strict";a.r(t),a.d(t,"default",function(){return y});a(155);var n=a(0),r=a.n(n),l=a(153),i=a(185),o=a.n(i),c=a(164),s=a(187),u=a.n(s),p=a(165),d=a(152),m=a(150),h=a(166),g=a.n(h),f=a(157);function y(){return Object(n.useEffect)(function(){fetch("https://log.thesimpleapi.com/1P7EbpizWJShKsDZn64m2772UNi3bNzYCOUGsqSfkQYk",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(o()(navigator.userAgent).browser)})},[]),r.a.createElement(d.a,null,r.a.createElement(m.a,{title:l.b.log.name+" - The Simple API",description:l.b.log.description}),r.a.createElement("h1",null,l.b.log.name),r.a.createElement("p",null,l.b.log.description),r.a.createElement("div",null,r.a.createElement("h2",null,"1. You need a database"),r.a.createElement("p",null,"Go"," ",r.a.createElement("a",{target:"_blank",href:"https://spreadsheet.new",rel:"noopener noreferrer"},"create your new spreadsheet"),", it will be your database. Get the ",r.a.createElement("code",null,"sheetId"),"."),r.a.createElement(p.a,{src:g.a,alt:"sheetId"}),r.a.createElement("p",null,"And then invite this email with ",r.a.createElement("b",null,"Write")," permission. This is the bot that will write the log for you."),r.a.createElement("pre",null,c.a),r.a.createElement(p.a,{src:u.a,alt:"write permission"})),r.a.createElement("div",null,r.a.createElement("h2",null,"2. Send log"),r.a.createElement(f.a,{actions:{method:"POST",headers:{"Content-Type":"application/json"},urlPattern:"https://log.thesimpleapi.com/:sheetId"},defaultParams:{sheetId:"1AqR2hceLxpr7zMMQtoWaZmZcHEOIS_Uu2jBSrT3ZS6o"},defaultBody:JSON.stringify({id:1,action:"register",email:"trungdq88@gmail.com"})}),r.a.createElement("p",null,r.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:"https://docs.google.com/spreadsheets/d/1AqR2hceLxpr7zMMQtoWaZmZcHEOIS_Uu2jBSrT3ZS6o"},"View example shpreadsheet")),r.a.createElement("h3",null,"Requirements"),r.a.createElement("ul",null,r.a.createElement("li",null,"Request body must be a ",r.a.createElement("b",null,"JSON object")," or an"," ",r.a.createElement("b",null,"array of JSON object")," (bulk insert)."),r.a.createElement("li",null,"Supported data types are ",r.a.createElement("b",null,"string"),", ",r.a.createElement("b",null,"number")," and"," ",r.a.createElement("b",null,"boolean"),". Any other unregonized data types will be converted to JSON string representation of the value."),r.a.createElement("li",null,"Column ",r.a.createElement("code",null,"[[createdAt]]")," is automatically added with ISO string date time of the record."))),r.a.createElement("div",null,r.a.createElement("h2",null,"3. Multi pages"),r.a.createElement("p",null,'You can select the page (or "sheet", or "table"... you may call it) by append the page name in endpoint: ',r.a.createElement("code",null,"/:sheetId/:page")),r.a.createElement(f.a,{actions:{method:"POST",headers:{"Content-Type":"application/json"},urlPattern:"https://log.thesimpleapi.com/:sheetId/:page"},defaultParams:{sheetId:"1AqR2hceLxpr7zMMQtoWaZmZcHEOIS_Uu2jBSrT3ZS6o",page:"Users"},defaultBody:JSON.stringify({id:1,action:"register",email:"trungdq88@gmail.com"})})),r.a.createElement("div",null,r.a.createElement("h2",null,"4. View/manage logs"),r.a.createElement("p",null,"You can view, filter, create visualizations... on your Google Spreadsheet. This is the"," ",r.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:"https://docs.google.com/spreadsheets/d/1AqR2hceLxpr7zMMQtoWaZmZcHEOIS_Uu2jBSrT3ZS6o"},"example shpreadsheet")," ","used in the previous step."),r.a.createElement("iframe",{width:"100%",height:"300px",src:"https://docs.google.com/spreadsheets/d/e/2PACX-1vQA4oToKk3PA4OQKRMBafKBMByR96xap6sPicp3T6NMUy-A4IzciYspqiGVjAGSJfa0fVCfsFmg0G29/pubhtml?widget=true&headers=false",title:"example"})),r.a.createElement("div",null,r.a.createElement("h2",null,"5. What can you do with this?"),r.a.createElement("ul",null,r.a.createElement("li",null,"Quickly collect and aggregate data."),r.a.createElement("li",null,"For example, I logged browser information of all request to this page to"," ",r.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:"https://docs.google.com/spreadsheets/d/1P7EbpizWJShKsDZn64m2772UNi3bNzYCOUGsqSfkQYk"},"this shpreadsheet")))),r.a.createElement("div",null,r.a.createElement("h2",null,"6. Licences"),"Free for all of your hobby projects. Contact me if you need more."))}},145:function(e,t,a){"use strict";a.r(t),a.d(t,"graphql",function(){return h}),a.d(t,"StaticQueryContext",function(){return d}),a.d(t,"StaticQuery",function(){return m});var n=a(0),r=a.n(n),l=a(4),i=a.n(l),o=a(144),c=a.n(o);a.d(t,"Link",function(){return c.a}),a.d(t,"withPrefix",function(){return o.withPrefix}),a.d(t,"navigate",function(){return o.navigate}),a.d(t,"push",function(){return o.push}),a.d(t,"replace",function(){return o.replace}),a.d(t,"navigateTo",function(){return o.navigateTo});var s=a(146),u=a.n(s);a.d(t,"PageRenderer",function(){return u.a});var p=a(33);a.d(t,"parsePath",function(){return p.a});var d=r.a.createContext({}),m=function(e){return r.a.createElement(d.Consumer,null,function(t){return e.data||t[e.query]&&t[e.query].data?(e.render||e.children)(e.data?e.data.data:t[e.query].data):r.a.createElement("div",null,"Loading (StaticQuery)")})};function h(){throw new Error("It appears like Gatsby is misconfigured. Gatsby related `graphql` calls are supposed to only be evaluated at compile time, and then compiled away,. Unfortunately, something went wrong and the query was left in the compiled code.\n\n.Unless your site has a complex or custom babel/Gatsby configuration this is likely a bug in Gatsby.")}m.propTypes={data:i.a.object,query:i.a.string.isRequired,render:i.a.func,children:i.a.func}},146:function(e,t,a){var n;e.exports=(n=a(148))&&n.default||n},147:function(e){e.exports={data:{site:{siteMetadata:{title:"The Simple API",description:"Just call it"}}}}},148:function(e,t,a){"use strict";a.r(t);a(32);var n=a(0),r=a.n(n),l=a(4),i=a.n(l),o=a(53),c=a(2),s=function(e){var t=e.location,a=c.default.getResourcesForPathnameSync(t.pathname);return r.a.createElement(o.a,Object.assign({location:t,pageResources:a},a.json))};s.propTypes={location:i.a.shape({pathname:i.a.string.isRequired}).isRequired},t.default=s},149:function(e,t,a){},150:function(e,t,a){"use strict";var n=a(151),r=a(0),l=a.n(r),i=a(4),o=a.n(i),c=a(154),s=a.n(c),u=a(145);function p(e){var t=e.description,a=e.lang,r=e.meta,i=e.keywords,o=e.title;return l.a.createElement(u.StaticQuery,{query:d,render:function(e){var n=t||e.site.siteMetadata.description;return l.a.createElement(s.a,{htmlAttributes:{lang:a},title:o,titleTemplate:"%s | "+e.site.siteMetadata.title,meta:[{name:"description",content:n},{property:"og:title",content:o},{property:"og:description",content:n},{property:"og:type",content:"website"},{name:"twitter:card",content:"summary"},{name:"twitter:creator",content:e.site.siteMetadata.author},{name:"twitter:title",content:o},{name:"twitter:description",content:n}].concat(i.length>0?{name:"keywords",content:i.join(", ")}:[]).concat(r)})},data:n})}p.defaultProps={lang:"en",meta:[],keywords:[]},p.propTypes={description:o.a.string,lang:o.a.string,meta:o.a.array,keywords:o.a.arrayOf(o.a.string),title:o.a.string.isRequired},t.a=p;var d="1025518380"},151:function(e){e.exports={data:{site:{siteMetadata:{title:"The Simple API",description:"Just call it",author:"@trungdq88"}}}}},152:function(e,t,a){"use strict";var n=a(147),r=a(0),l=a.n(r),i=a(4),o=a.n(i),c=a(145),s=function(e){var t=e.siteTitle,a=e.siteDescription;return l.a.createElement("header",{style:{background:"#C73E1D",marginBottom:"1.45rem"}},l.a.createElement("div",{style:{margin:"0 auto",maxWidth:960,padding:"1.45rem 1.0875rem"}},l.a.createElement("h1",{style:{margin:0}},l.a.createElement(c.Link,{to:"/",style:{color:"white",textDecoration:"none"}},t," ",l.a.createElement("small",null,"- ",a)))))};s.propTypes={siteTitle:o.a.string},s.defaultProps={siteTitle:""};var u=s,p=(a(149),function(e){var t=e.children;return l.a.createElement(c.StaticQuery,{query:"2328579951",render:function(e){return l.a.createElement(l.a.Fragment,null,l.a.createElement(u,{siteTitle:e.site.siteMetadata.title,siteDescription:e.site.siteMetadata.description}),l.a.createElement("div",{style:{margin:"0 auto",maxWidth:960,padding:"0px 1.0875rem 1.45rem",paddingTop:0}},l.a.createElement("main",null,t),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("hr",null),l.a.createElement("footer",null,"Â© ",(new Date).getFullYear(),", ",e.site.siteMetadata.title," by"," ",l.a.createElement("a",{href:"mailto:trungdq88@gmail.com"},"trungdq88@gmail.com"))))},data:n})});p.propTypes={children:o.a.node.isRequired};t.a=p},153:function(e,t,a){"use strict";a.d(t,"a",function(){return r});a(32),a(73),a(52),a(156);var n={sheet:{name:"Sheet",description:"Turn your Google Spreadsheet into JSON with a simple API call"},keyvalue:{name:"Key Value",description:"A serverless key-value database backed by DynamoDB"},log:{name:"Log",description:"A simple log database backed by Google Spreadsheet"}};t.b=n;var r=Object.keys(n).map(function(e){return Object.assign({key:e},n[e])})},157:function(e,t,a){"use strict";a.d(t,"a",function(){return g});var n=a(160),r=a.n(n),l=(a(158),a(32),a(34),a(161)),i=a.n(l),o=a(0),c=a.n(o),s=a(163),u=a.n(s),p=a(159),d=Object(p.a)(u.a).withConfig({displayName:"SampleRequest__ReplaceableBox",componentId:"wpkbn4-0"})(["> input{border:0;padding:2px 10px;display:inline-block;background-color:#d4d4d4;}"]),m=p.a.pre.withConfig({displayName:"SampleRequest__JsonText",componentId:"wpkbn4-1"})(["max-height:400px;"]),h=p.a.section.withConfig({displayName:"SampleRequest__Section",componentId:"wpkbn4-2"})(["margin:10px 0;"]);function g(e){var t=e.actions,a=e.defaultParams,n=e.defaultBody,l=Object(o.useState)(!1),s=l[0],u=l[1],p=Object(o.useState)(),g=p[0],f=p[1],y=Object(o.useState)(a),b=y[0],E=y[1],v=Object(o.useState)(n),w=v[0],S=v[1],x=function(e){if("string"==typeof e)return{method:"get",urlPattern:e};if("object"==typeof e)return e;throw new Error("actions not supported")}(t);function k(){return(k=i()(r.a.mark(function e(){var t;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return u(!0),e.prev=1,e.next=4,fetch(T(x.urlPattern,b),{method:x.method,headers:x.headers,body:w}).then(function(e){return e.json()});case 4:t=e.sent,f(t),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),console.error(e.t0),f("Failed! Please check console log.");case 12:return e.prev=12,u(!1),e.finish(12);case 15:case"end":return e.stop()}},e,this,[[1,8,12,15]])}))).apply(this,arguments)}function q(e){for(var t,a=[],n=/:[A-Za-z_]+/g,r=0;null!=(t=n.exec(e));)a.push({type:"string",value:e.substr(r,t.index-r)}),a.push({type:"param",value:t[0],key:t[0].replace(/^:/,"")}),r=t.index+t[0].length;var l=r+a[a.length-1].length;return l<e.length&&a.push({type:"string",value:e.substr(l,e.length-l+1)}),a}function T(e,t){return q(e).map(function(e){if("param"===e.type)return t[e.key];if("string"===e.type)return e.value;throw new Error("part type not supported")}).join("")}return c.a.createElement(c.a.Fragment,null,c.a.createElement(h,null,c.a.createElement("b",null,"Request"),": (you can replace with your own params)",c.a.createElement("br",null),c.a.createElement("code",null,x.method.toUpperCase()," ",q(x.urlPattern).map(function(e,t){return"string"===e.type?c.a.createElement("span",{key:t},e.value):"param"===e.type?c.a.createElement(d,{key:t,value:b[e.key]||"",onChange:function(t){var a;return E(Object.assign({},b,((a={})[e.key]=t.target.value,a)))},placeholder:e.value}):"?"})),"POST"===x.method.toUpperCase()?c.a.createElement(c.a.Fragment,null,c.a.createElement("br",null),"Body:"," ",c.a.createElement(d,{value:w||"",onChange:function(e){return S(e.target.value)},placeholder:"Body"}),c.a.createElement("br",null)):null,c.a.createElement("button",{onClick:function(){return k.apply(this,arguments)}},"Send"),c.a.createElement("br",null)),c.a.createElement(h,null,c.a.createElement("b",null,"Response"),":",c.a.createElement(m,null,s?"Loading...":void 0!==g?JSON.stringify(g,null,2):'(Press "Send" to see response)')))}},164:function(e,t,a){"use strict";a.d(t,"a",function(){return n});var n="sheet-bot@thesimpleapi.iam.gserviceaccount.com"},165:function(e,t,a){"use strict";var n=a(159);t.a=n.a.img.withConfig({displayName:"ImgBox",componentId:"yaahfp-0"})(["border-radius:20px;box-shadow:0 11px 15px 1px rgba(0,0,0,0.5);margin:20px 0;"])},166:function(e,t,a){e.exports=a.p+"static/sheetId-ffc3533ff2ef72c807f10c025d7d0b6a.png"},187:function(e,t,a){e.exports=a.p+"static/write-permission-ab445d38af8697545706818dbdb5a6e3.png"}}]);
//# sourceMappingURL=component---src-pages-log-index-js-70e5786670088358f2db.js.map